# Iris Configuration Example
# Copy this file to .env and update with your actual values

# ============================================================================
# Database Configuration (REQUIRED)
# ============================================================================
# PostgreSQL database connection settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE_NAME=iris
POSTGRES_USER=iris_user
POSTGRES_PASS=change_this_password
POSTGRES_SSL=false

# ============================================================================
# HTTP Server Configuration (REQUIRED)
# ============================================================================
# Port on which the HTTP server will listen
HTTP_PORT=9090

# ============================================================================
# Security Configuration (REQUIRED)
# ============================================================================
# Secret key for JWT token signing - MUST be changed in production
# Use a long, random string (at least 32 characters)
JWT_SECRET=change-this-to-a-very-long-random-secret-key-for-production

# Admin password for webhook endpoints (Grafana/AlertManager)
# This is used for Basic Authentication on webhook endpoints
ADMIN_PASS=change_this_admin_password

# ============================================================================
# Application Settings (OPTIONAL)
# ============================================================================
# Application environment: "debug" or "release"
# Set to "release" for production deployments
GO_ENV=debug

# Enable or disable user self-registration
# Set to false in production if you want admin-only user creation
SIGNUP_ENABLED=true

# ============================================================================
# SMS Notification Provider: Kavenegar (OPTIONAL)
# ============================================================================
# Kavenegar is a popular SMS service provider
# Sign up at https://kavenegar.com to get your API token

# API token from Kavenegar dashboard
KAVENEGAR_API_TOKEN=your-kavenegar-api-token-here

# Sender phone number (line number)
KAVENEGAR_SENDER=your-sender-number

# Enable/disable Kavenegar provider
KAVENEGAR_ENABLED=true

# Priority for this provider (lower number = higher priority)
# If multiple providers are enabled, the system will try them in priority order
KAVENEGAR_PRIORITY=1

# ============================================================================
# SMS Notification Provider: Smsir (OPTIONAL)
# ============================================================================
# Smsir is another SMS service provider
# Sign up at https://www.sms.ir to get your API token

# API token from Smsir dashboard
SMSIR_API_TOKEN=your-smsir-api-token-here

# Line number from Smsir
SMSIR_LINE_NUMBER=30007732911486

# Enable/disable Smsir provider
SMSIR_ENABLED=false

# Priority for this provider (lower number = higher priority)
SMSIR_PRIORITY=2

# ============================================================================
# Email Notification Configuration (OPTIONAL)
# ============================================================================
# SMTP server configuration for sending email notifications

# SMTP server hostname
EMAIL_HOST=smtp.gmail.com

# SMTP server port (587 for TLS, 465 for SSL, 25 for unencrypted)
EMAIL_PORT=587

# SMTP authentication username (usually your email address)
EMAIL_USER=your-email@example.com

# SMTP authentication password (or app-specific password for Gmail)
EMAIL_PASSWORD=your-email-password

# Email address to use in the "From" field
EMAIL_FROM=noreply@example.com

# Enable/disable email notifications
EMAIL_ENABLED=false

# ============================================================================
# Scheduler Configuration: Mobile/SMS Scheduler (OPTIONAL)
# ============================================================================
# This scheduler processes SMS notifications
# Time values use Go duration format: s=seconds, m=minutes, h=hours

# Delay before starting the scheduler after application launch
MOBILE_SCHEDULER_START_AT=1s

# Interval between scheduler runs
MOBILE_SCHEDULER_INTERVAL=600s

# Number of concurrent workers
MOBILE_SCHEDULER_WORKERS=1

# Size of the processing queue
MOBILE_SCHEDULER_QUEUE_SIZE=1

# Cache capacity for receptor information
MOBILE_SCHEDULER_CACHE_CAPACITY=1

# ============================================================================
# Scheduler Configuration: Alert Scheduler (OPTIONAL)
# ============================================================================
# This scheduler processes incoming alerts

# Delay before starting the scheduler after application launch
ALERT_SCHEDULER_START_AT=2s

# Interval between scheduler runs
ALERT_SCHEDULER_INTERVAL=10s

# Number of concurrent workers
ALERT_SCHEDULER_WORKERS=1

# Size of the processing queue
ALERT_SCHEDULER_QUEUE_SIZE=10

# ============================================================================
# Scheduler Configuration: Message Status Scheduler (OPTIONAL)
# ============================================================================
# This scheduler checks and updates the status of sent messages

# Delay before starting the scheduler after application launch
MESSAGE_STATUS_START_AT=10s

# Interval between scheduler runs
MESSAGE_STATUS_INTERVAL=10s

# Number of concurrent workers
MESSAGE_STATUS_WORKERS=10

# Size of the processing queue
MESSAGE_STATUS_QUEUE_SIZE=100

# ============================================================================
# Notes and Best Practices
# ============================================================================
#
# 1. SECURITY:
#    - Never commit the actual .env file to version control
#    - Change all default passwords and secrets in production
#    - Use strong, unique passwords for database and admin access
#    - Generate a long random string for JWT_SECRET (minimum 32 characters)
#
# 2. DATABASE:
#    - Create a dedicated database user with limited privileges
#    - Enable SSL for database connections in production (POSTGRES_SSL=true)
#    - Regularly backup your database
#
# 3. NOTIFICATIONS:
#    - You can enable multiple notification providers
#    - Providers are tried in priority order (lower number first)
#    - If a provider fails, the system will try the next available provider
#    - At least one notification provider should be enabled for the system to send alerts
#
# 4. SCHEDULERS:
#    - Adjust worker counts and queue sizes based on your load
#    - Higher values consume more resources but handle more concurrent operations
#    - Monitor system resources and adjust accordingly
#
# 5. ENVIRONMENT:
#    - Use GO_ENV=release in production for better performance
#    - Set appropriate logging levels for your environment
#    - Consider disabling SIGNUP_ENABLED in production environments
#
# 6. MONITORING:
#    - Regularly check application logs for errors
#    - Monitor notification delivery success rates
#    - Keep an eye on scheduler performance and queue sizes
#
# ============================================================================
